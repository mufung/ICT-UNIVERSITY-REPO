 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Signing in...</title>
</head>

<body>
<p>Signing you in, please wait...</p>

<script>
  const hash = window.location.hash.substring(1);
  const params = new URLSearchParams(hash);

  const idToken = params.get("id_token");
  const accessToken = params.get("access_token");

  if (!idToken) {
    window.location.href = "index.html";
  }

  localStorage.setItem("idToken", idToken);
  localStorage.setItem("accessToken", accessToken);

  const role = localStorage.getItem("selectedRole");

  if (role === "teacher") {
    window.location.href = "dashboard_teacher.html";
  } else {
    window.location.href = "dashboard_student.html";
  }
</script>
</body>
</html>

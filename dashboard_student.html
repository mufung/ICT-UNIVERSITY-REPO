<!DOCTYPE html>
<html>
<head>
    <title>Student Dashboard</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>

<header class="header">
    <h2>Student Dashboard</h2>
</header>

<div class="container">
    <div class="card">
        <h3>My Results</h3>
        <p>View and confirm your results.</p>
    </div>

    <div class="card">
        <h3>Report Error</h3>
        <p>Upload proof and explain issues.</p>
    </div>
</div>

<script src="js/student.js"></script>


<script src="https://cdn.jsdelivr.net/npm/jwt-decode@3.1.2/build/jwt-decode.min.js"></script>

<script>
const hash = window.location.hash;
const params = new URLSearchParams(hash.substring(1));
const idToken = params.get("id_token");

if (!idToken) {
  alert("You must log in first.");
  window.location.href = "index.html";
} else {
  const user = jwt_decode(idToken);
  const groups = user["cognito:groups"] || [];

  if (!groups.includes("Students")) {
    alert("Access denied. Students only.");
    window.location.href = "index.html";
  }
}
</script>
    
</body>
</html>
